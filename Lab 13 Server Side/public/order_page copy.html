<html lang="en">

<head>
        <script src="./product_data.js"></script>. 
        <script>
            document.write(`<h3>${products[0]["model"]} at \$${products[0]["price"]}</h3>`);
                function checkQuantityTextbox() {
                    errs_array = isNonNegInt(quantity_form.quantity_textbox.value, true);
                    qty_textbox_message.innerHTML = errs_array.join(" ");
                }
            
                function DisplayPurchase() {
                    if (isNonNegInt(GET['quantity_textbox'])) {
                        document.write(`Thank You For Your Purchase of ${GET['quantity_textbox']} Items`);
                    }
                    else alert("Please enter a valid quantity!")
                }
            
            //Get the query string values from form puts into obects
            
                let params = (new URL(document.location)).searchParams;
                GET = {};
                params.forEach(function (value, key) { GET[key] = value });
            
                if (typeof GET['quantity_textbox'] != 'undefined') {
                    DisplayPurchase();
                    window.stop;
                }
            
                //USE type = number if you want to gaurd
            </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>HTML Forms</title>
</head>

<body>
    
    <form name="quantity_form" action="/process_form" method="POST">
        <label for="quantity_textbox">Quantity Desired:</label>
        <input type="text" name="quantity_textbox" onkeyup="checkQuantityTextbox();">
        <span id='qty_textbox_message'>Enter a quantity</span>
        <br>
        <input type="submit" name = "purchase_submit" value="Purchase">
    </form>
</body>

</html>
